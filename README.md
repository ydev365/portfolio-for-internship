✅ 1. 전처리 과정
1) 결측치 처리
KNN Imputer, 이전 값으로 채우기, 평균값 대체 등 여러 방법을 시도해보았지만, 결국 가장 성능이 좋았던 방법은 모델 자체에 결측치를 맡기는 방식이었습니다.
예를 들어 LightGBM의 경우, np.nan으로 결측치를 그대로 두면 모델이 분기 노드를 통해 예측 오차가 가장 작아지는 방향으로 자동 처리해줍니다.
물론 모든 머신러닝 모델이 이 기능을 제공하는 것은 아니므로, 사용하려는 모델의 특성에 따라 최적의 결측치 처리 방법을 꼭 생성형 AI에게 물어보시는 것을 추천드립니다.
제가 실험해본 결과, 사람이 직접 결측치를 처리하는 것보다 모델에 맡기는 방식이 더 좋은 성능을 보였습니다.
2) 인코딩
주소 칼럼들은 한글로 되어 있어 모델이 이해할 수 있도록 숫자로 변환해야 합니다.
다만, 어떤 인코딩 방법이 좋은지는 모델에 따라 다릅니다.
어떤 모델은 원-핫 인코딩이 유리하고,
어떤 모델은 라벨 인코딩이 유리하며,
일부 모델은 인코딩 자체를 내부적으로 처리하기도 합니다.
예를 들어 LightGBM은 범주형 변수의 dtype만 category로 바꿔주면 내부적으로 자동 인코딩을 수행합니다.
3) call 데이터와 cat 데이터를 합친 경우의 성능 비교
재홍님이 제공해주신 merged_data를 활용해 카테고리별로 나누고 그 합을 예측하는 방식도 시도해보았지만,
단순히 call119 데이터만을 사용했을 때보다 성능이 오히려 떨어졌습니다.
다만, 이 merged_data를 잘 활용하면 성능 개선의 여지가 있으므로, 도전하실 분이 있다면 시도 후 결과를 공유해주시기 바랍니다.
4) 어떤 Feature를 사용할 것인가?
stn은 기상관측소 식별 번호이므로 제외했습니다.
부산광역시와 같이 모든 샘플에서 동일한 값인 컬럼도 제거했습니다.
******📌 가장 중요한 인사이트 – 날짜 데이터********
날짜 데이터(20200630)를
그대로 넣기,
아예 제거하기,
월/일만 넣기,
일만 넣기
등 다양한 방법을 시도해본 결과:
**********완전 중요!!! 시간 없으신 분들은 이것만이라도 읽어 보시길 바랍니다***********
     ✅ 가장 성능이 좋았던 방법은 "연도만 추출해서 넣는 것"이었습니다.
제 추측으로는, 2019~2022년은 코로나19로 인해 신고 건수가 급증한 시기이므로,
연도 정보는 신고 건수 예측에 매우 유의미한 변수였던 것 같습니다. 우리를 괴롭혔던 코로나에 대한 정보는 날씨 데이터에는 담겨있지 않으므로 연도 데이터가 코로나에 대한 정보를 뒷받침하고 있어 신고건수 예측에 상당한 서포트를 한것으로 보입니다. 아니면 단순히 연도가 올라갈수록 신고추이가 증가하거나 감소했거나 했을수도 있죠. 정확한 이유는 아무도 모릅니다. 하지만 팩트는 연도 정보를 넣었을때 성능이 꽤 향상했다는 것입니다. 
반면 월/일 정보는 이미 온도 등의 계절성 변수와 겹치는 부분이 많아 오히려 성능을 저하시켰습니다.
📌 결론: 연도만 넣고, 월/일은 빼는 것이 성능 향상에 효과적이었습니다.
5) 전처리 향후 개선 방향
현재 데이터는 2020~2023년에 한정되어 있습니다.
→ 2015~2019년까지 데이터가 추가된다면 모델 학습의 다양성과 일반화 성능이 더욱 향상될 것입니다.
또한, 각 feature의 의미와 데이터 분포를 고려하여 더 유의미한 feature selection 작업을 진행한다면 성능이 더욱 향상될 수 있습니다.
✅ 2. 어떤 모델을 사용할 것인가?
1) 단일 머신러닝 모델
제가 실험한 결과, 단일 모델 중에서는 LightGBM이 가장 좋은 성능을 보여주었습니다.
특히,
결측치 처리와 인코딩을 모델에게 맡겼을 때
연도 정보만 feature로 활용했을 때
→ RMSE: 1.15로 단일 모델로는 성능이 좋았습니다.
2) AutoML 기반 모델 조합
여러 모델을 조합해 자동으로 최적의 앙상블을 찾아주는 AutoGluon이라는 라이브러리를 활용해봤습니다.
다양한 머신러닝 및 딥러닝 모델을 알아서 조합
자동 인코딩 + 자동 결측치 처리 기능 포함
수작업 전처리를 최소화 가능
단점: 학습 시간이 오래 걸림
→ RMSE: 1.12로 최종적으로 이 모델의 성능이 가장 우수했습니다.
⏱ 기본 시간 제한은 1시간이며, 저는 3시간까지 학습시켜봤습니다.
학습 시간은 더 늘릴 수도 있으니 여유가 있을 때 시도해보시길 추천드립니다.
✅ 정리 요약
결측치: 모델에 맡기는 방식이 가장 성능이 좋았음 (LightGBM 추천)
인코딩: 모델에 따라 다르나 LightGBM은 category 타입만 지정
날짜 처리: 연도만 넣는 것이 가장 성능이 좋음, 월/일은 제외
모델 선택: 단일 모델은 LightGBM, 조합 모델은 AutoGluon이 성능 우수
추후 개선: 2015~2019년 데이터 추가 및 feature selection을 통한 최적화 필요
